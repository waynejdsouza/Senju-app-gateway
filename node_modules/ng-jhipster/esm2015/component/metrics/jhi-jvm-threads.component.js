/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/*
 Copyright 2013-2019 the original author or authors from the JHipster project.

 This file is part of the JHipster project, see https://www.jhipster.tech/
 for more information.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 */
import { Component, Input } from '@angular/core';
import { NgbModal } from '@ng-bootstrap/ng-bootstrap';
import { JhiThreadModalComponent } from './jhi-metrics-modal-threads.component';
export class JhiJvmThreadsComponent {
    /**
     * @param {?} modalService
     */
    constructor(modalService) {
        this.modalService = modalService;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.threadStats = {
            threadDumpRunnable: 0,
            threadDumpWaiting: 0,
            threadDumpTimedWaiting: 0,
            threadDumpBlocked: 0,
            threadDumpAll: 0
        };
        this.threadData.forEach((value) => {
            if (value.threadState === 'RUNNABLE') {
                this.threadStats.threadDumpRunnable += 1;
            }
            else if (value.threadState === 'WAITING') {
                this.threadStats.threadDumpWaiting += 1;
            }
            else if (value.threadState === 'TIMED_WAITING') {
                this.threadStats.threadDumpTimedWaiting += 1;
            }
            else if (value.threadState === 'BLOCKED') {
                this.threadStats.threadDumpBlocked += 1;
            }
        });
        this.threadStats.threadDumpAll =
            this.threadStats.threadDumpRunnable +
                this.threadStats.threadDumpWaiting +
                this.threadStats.threadDumpTimedWaiting +
                this.threadStats.threadDumpBlocked;
    }
    /**
     * @return {?}
     */
    open() {
        /** @type {?} */
        const modalRef = this.modalService.open(JhiThreadModalComponent);
        modalRef.componentInstance.threadDump = this.threadData;
    }
}
JhiJvmThreadsComponent.decorators = [
    { type: Component, args: [{
                selector: 'jhi-jvm-threads',
                template: `<h4 jhiTranslate="metrics.jvm.threads.title">Threads </h4>
    <span><span jhiTranslate="metrics.jvm.threads.runnable">Runnable</span> {{threadStats.threadDumpRunnable}}</span>
    <ngb-progressbar [value]="threadStats.threadDumpRunnable" [max]="threadStats.threadDumpAll" [striped]="true"
                     [animated]="false" type="success">
        <span>{{threadStats.threadDumpRunnable * 100 / threadStats.threadDumpAll | number:'1.0-0'}}%</span>
    </ngb-progressbar>
    <span><span jhiTranslate="metrics.jvm.threads.timedwaiting">Timed Waiting</span> ({{threadStats.threadDumpTimedWaiting}})</span>
    <ngb-progressbar [value]="threadStats.threadDumpTimedWaiting" [max]="threadStats.threadDumpAll" [striped]="true"
                     [animated]="false" type="warning">
        <span>{{threadStats.threadDumpTimedWaiting * 100 / threadStats.threadDumpAll | number:'1.0-0'}}%</span>
    </ngb-progressbar>
    <span><span jhiTranslate="metrics.jvm.threads.waiting">Waiting</span> ({{threadStats.threadDumpWaiting}})</span>
    <ngb-progressbar [value]="threadStats.threadDumpWaiting" [max]="threadStats.threadDumpAll" [striped]="true"
                     [animated]="false" type="warning">
        <span>{{threadStats.threadDumpWaiting * 100 / threadStats.threadDumpAll | number:'1.0-0'}}%</span>
    </ngb-progressbar>
    <span><span jhiTranslate="metrics.jvm.threads.blocked">Blocked</span> ({{threadStats.threadDumpBlocked}})</span>
    <ngb-progressbar [value]="threadStats.threadDumpBlocked" [max]="threadStats.threadDumpAll" [striped]="true"
                     [animated]="false" type="success">
        <span>{{threadStats.threadDumpBlocked * 100 / threadStats.threadDumpAll | number:'1.0-0'}}%</span>
    </ngb-progressbar>
    <div>Total: {{threadStats.threadDumpAll}}</div>
    <button class="hand btn btn-primary btn-sm" (click)="open()" data-toggle="modal" data-target="#threadDump">
        <span>Expand</span>
    </button>`
            }] }
];
/** @nocollapse */
JhiJvmThreadsComponent.ctorParameters = () => [
    { type: NgbModal }
];
JhiJvmThreadsComponent.propDecorators = {
    threadData: [{ type: Input }]
};
if (false) {
    /** @type {?} */
    JhiJvmThreadsComponent.prototype.threadStats;
    /**
     * object containing thread related metrics
     * @type {?}
     */
    JhiJvmThreadsComponent.prototype.threadData;
    /**
     * @type {?}
     * @private
     */
    JhiJvmThreadsComponent.prototype.modalService;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamhpLWp2bS10aHJlYWRzLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25nLWpoaXBzdGVyLyIsInNvdXJjZXMiOlsiY29tcG9uZW50L21ldHJpY3MvamhpLWp2bS10aHJlYWRzLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBa0JBLE9BQU8sRUFBQyxTQUFTLEVBQUUsS0FBSyxFQUFTLE1BQU0sZUFBZSxDQUFDO0FBRXZELE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSw0QkFBNEIsQ0FBQztBQUVwRCxPQUFPLEVBQUMsdUJBQXVCLEVBQUMsTUFBTSx1Q0FBdUMsQ0FBQztBQThCOUUsTUFBTSxPQUFPLHNCQUFzQjs7OztJQWMvQixZQUFvQixZQUFzQjtRQUF0QixpQkFBWSxHQUFaLFlBQVksQ0FBVTtJQUMxQyxDQUFDOzs7O0lBRUQsUUFBUTtRQUNKLElBQUksQ0FBQyxXQUFXLEdBQUc7WUFDZixrQkFBa0IsRUFBRSxDQUFDO1lBQ3JCLGlCQUFpQixFQUFFLENBQUM7WUFDcEIsc0JBQXNCLEVBQUUsQ0FBQztZQUN6QixpQkFBaUIsRUFBRSxDQUFDO1lBQ3BCLGFBQWEsRUFBRSxDQUFDO1NBQ25CLENBQUM7UUFFRixJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFO1lBQzlCLElBQUksS0FBSyxDQUFDLFdBQVcsS0FBSyxVQUFVLEVBQUU7Z0JBQ2xDLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLElBQUksQ0FBQyxDQUFDO2FBQzVDO2lCQUFNLElBQUksS0FBSyxDQUFDLFdBQVcsS0FBSyxTQUFTLEVBQUU7Z0JBQ3hDLElBQUksQ0FBQyxXQUFXLENBQUMsaUJBQWlCLElBQUksQ0FBQyxDQUFDO2FBQzNDO2lCQUFNLElBQUksS0FBSyxDQUFDLFdBQVcsS0FBSyxlQUFlLEVBQUU7Z0JBQzlDLElBQUksQ0FBQyxXQUFXLENBQUMsc0JBQXNCLElBQUksQ0FBQyxDQUFDO2FBQ2hEO2lCQUFNLElBQUksS0FBSyxDQUFDLFdBQVcsS0FBSyxTQUFTLEVBQUU7Z0JBQ3hDLElBQUksQ0FBQyxXQUFXLENBQUMsaUJBQWlCLElBQUksQ0FBQyxDQUFDO2FBQzNDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWE7WUFDMUIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0I7Z0JBQ25DLElBQUksQ0FBQyxXQUFXLENBQUMsaUJBQWlCO2dCQUNsQyxJQUFJLENBQUMsV0FBVyxDQUFDLHNCQUFzQjtnQkFDdkMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQztJQUMzQyxDQUFDOzs7O0lBRUQsSUFBSTs7Y0FDTSxRQUFRLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUM7UUFDaEUsUUFBUSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQzVELENBQUM7OztZQTVFSixTQUFTLFNBQUM7Z0JBQ1AsUUFBUSxFQUFFLGlCQUFpQjtnQkFDM0IsUUFBUSxFQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Y0F3QkE7YUFDYjs7OztZQS9CTyxRQUFROzs7eUJBNENYLEtBQUs7Ozs7SUFYTiw2Q0FNRTs7Ozs7SUFLRiw0Q0FBeUI7Ozs7O0lBRWIsOENBQThCIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiBDb3B5cmlnaHQgMjAxMy0yMDE5IHRoZSBvcmlnaW5hbCBhdXRob3Igb3IgYXV0aG9ycyBmcm9tIHRoZSBKSGlwc3RlciBwcm9qZWN0LlxuXG4gVGhpcyBmaWxlIGlzIHBhcnQgb2YgdGhlIEpIaXBzdGVyIHByb2plY3QsIHNlZSBodHRwczovL3d3dy5qaGlwc3Rlci50ZWNoL1xuIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuXG4gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge0NvbXBvbmVudCwgSW5wdXQsIE9uSW5pdH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7TmdiTW9kYWx9IGZyb20gJ0BuZy1ib290c3RyYXAvbmctYm9vdHN0cmFwJztcblxuaW1wb3J0IHtKaGlUaHJlYWRNb2RhbENvbXBvbmVudH0gZnJvbSAnLi9qaGktbWV0cmljcy1tb2RhbC10aHJlYWRzLmNvbXBvbmVudCc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnamhpLWp2bS10aHJlYWRzJyxcbiAgICB0ZW1wbGF0ZTogYDxoNCBqaGlUcmFuc2xhdGU9XCJtZXRyaWNzLmp2bS50aHJlYWRzLnRpdGxlXCI+VGhyZWFkcyA8L2g0PlxuICAgIDxzcGFuPjxzcGFuIGpoaVRyYW5zbGF0ZT1cIm1ldHJpY3MuanZtLnRocmVhZHMucnVubmFibGVcIj5SdW5uYWJsZTwvc3Bhbj4ge3t0aHJlYWRTdGF0cy50aHJlYWREdW1wUnVubmFibGV9fTwvc3Bhbj5cbiAgICA8bmdiLXByb2dyZXNzYmFyIFt2YWx1ZV09XCJ0aHJlYWRTdGF0cy50aHJlYWREdW1wUnVubmFibGVcIiBbbWF4XT1cInRocmVhZFN0YXRzLnRocmVhZER1bXBBbGxcIiBbc3RyaXBlZF09XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICAgICAgIFthbmltYXRlZF09XCJmYWxzZVwiIHR5cGU9XCJzdWNjZXNzXCI+XG4gICAgICAgIDxzcGFuPnt7dGhyZWFkU3RhdHMudGhyZWFkRHVtcFJ1bm5hYmxlICogMTAwIC8gdGhyZWFkU3RhdHMudGhyZWFkRHVtcEFsbCB8IG51bWJlcjonMS4wLTAnfX0lPC9zcGFuPlxuICAgIDwvbmdiLXByb2dyZXNzYmFyPlxuICAgIDxzcGFuPjxzcGFuIGpoaVRyYW5zbGF0ZT1cIm1ldHJpY3MuanZtLnRocmVhZHMudGltZWR3YWl0aW5nXCI+VGltZWQgV2FpdGluZzwvc3Bhbj4gKHt7dGhyZWFkU3RhdHMudGhyZWFkRHVtcFRpbWVkV2FpdGluZ319KTwvc3Bhbj5cbiAgICA8bmdiLXByb2dyZXNzYmFyIFt2YWx1ZV09XCJ0aHJlYWRTdGF0cy50aHJlYWREdW1wVGltZWRXYWl0aW5nXCIgW21heF09XCJ0aHJlYWRTdGF0cy50aHJlYWREdW1wQWxsXCIgW3N0cmlwZWRdPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgICBbYW5pbWF0ZWRdPVwiZmFsc2VcIiB0eXBlPVwid2FybmluZ1wiPlxuICAgICAgICA8c3Bhbj57e3RocmVhZFN0YXRzLnRocmVhZER1bXBUaW1lZFdhaXRpbmcgKiAxMDAgLyB0aHJlYWRTdGF0cy50aHJlYWREdW1wQWxsIHwgbnVtYmVyOicxLjAtMCd9fSU8L3NwYW4+XG4gICAgPC9uZ2ItcHJvZ3Jlc3NiYXI+XG4gICAgPHNwYW4+PHNwYW4gamhpVHJhbnNsYXRlPVwibWV0cmljcy5qdm0udGhyZWFkcy53YWl0aW5nXCI+V2FpdGluZzwvc3Bhbj4gKHt7dGhyZWFkU3RhdHMudGhyZWFkRHVtcFdhaXRpbmd9fSk8L3NwYW4+XG4gICAgPG5nYi1wcm9ncmVzc2JhciBbdmFsdWVdPVwidGhyZWFkU3RhdHMudGhyZWFkRHVtcFdhaXRpbmdcIiBbbWF4XT1cInRocmVhZFN0YXRzLnRocmVhZER1bXBBbGxcIiBbc3RyaXBlZF09XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICAgICAgIFthbmltYXRlZF09XCJmYWxzZVwiIHR5cGU9XCJ3YXJuaW5nXCI+XG4gICAgICAgIDxzcGFuPnt7dGhyZWFkU3RhdHMudGhyZWFkRHVtcFdhaXRpbmcgKiAxMDAgLyB0aHJlYWRTdGF0cy50aHJlYWREdW1wQWxsIHwgbnVtYmVyOicxLjAtMCd9fSU8L3NwYW4+XG4gICAgPC9uZ2ItcHJvZ3Jlc3NiYXI+XG4gICAgPHNwYW4+PHNwYW4gamhpVHJhbnNsYXRlPVwibWV0cmljcy5qdm0udGhyZWFkcy5ibG9ja2VkXCI+QmxvY2tlZDwvc3Bhbj4gKHt7dGhyZWFkU3RhdHMudGhyZWFkRHVtcEJsb2NrZWR9fSk8L3NwYW4+XG4gICAgPG5nYi1wcm9ncmVzc2JhciBbdmFsdWVdPVwidGhyZWFkU3RhdHMudGhyZWFkRHVtcEJsb2NrZWRcIiBbbWF4XT1cInRocmVhZFN0YXRzLnRocmVhZER1bXBBbGxcIiBbc3RyaXBlZF09XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICAgICAgIFthbmltYXRlZF09XCJmYWxzZVwiIHR5cGU9XCJzdWNjZXNzXCI+XG4gICAgICAgIDxzcGFuPnt7dGhyZWFkU3RhdHMudGhyZWFkRHVtcEJsb2NrZWQgKiAxMDAgLyB0aHJlYWRTdGF0cy50aHJlYWREdW1wQWxsIHwgbnVtYmVyOicxLjAtMCd9fSU8L3NwYW4+XG4gICAgPC9uZ2ItcHJvZ3Jlc3NiYXI+XG4gICAgPGRpdj5Ub3RhbDoge3t0aHJlYWRTdGF0cy50aHJlYWREdW1wQWxsfX08L2Rpdj5cbiAgICA8YnV0dG9uIGNsYXNzPVwiaGFuZCBidG4gYnRuLXByaW1hcnkgYnRuLXNtXCIgKGNsaWNrKT1cIm9wZW4oKVwiIGRhdGEtdG9nZ2xlPVwibW9kYWxcIiBkYXRhLXRhcmdldD1cIiN0aHJlYWREdW1wXCI+XG4gICAgICAgIDxzcGFuPkV4cGFuZDwvc3Bhbj5cbiAgICA8L2J1dHRvbj5gXG59KVxuZXhwb3J0IGNsYXNzIEpoaUp2bVRocmVhZHNDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICAgIHRocmVhZFN0YXRzOiB7XG4gICAgICAgIHRocmVhZER1bXBBbGw6IG51bWJlcjtcbiAgICAgICAgdGhyZWFkRHVtcFJ1bm5hYmxlOiBudW1iZXI7XG4gICAgICAgIHRocmVhZER1bXBUaW1lZFdhaXRpbmc6IG51bWJlcjtcbiAgICAgICAgdGhyZWFkRHVtcFdhaXRpbmc6IG51bWJlcjtcbiAgICAgICAgdGhyZWFkRHVtcEJsb2NrZWQ6IG51bWJlcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogb2JqZWN0IGNvbnRhaW5pbmcgdGhyZWFkIHJlbGF0ZWQgbWV0cmljc1xuICAgICAqL1xuICAgIEBJbnB1dCgpIHRocmVhZERhdGE6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgbW9kYWxTZXJ2aWNlOiBOZ2JNb2RhbCkge1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLnRocmVhZFN0YXRzID0ge1xuICAgICAgICAgICAgdGhyZWFkRHVtcFJ1bm5hYmxlOiAwLFxuICAgICAgICAgICAgdGhyZWFkRHVtcFdhaXRpbmc6IDAsXG4gICAgICAgICAgICB0aHJlYWREdW1wVGltZWRXYWl0aW5nOiAwLFxuICAgICAgICAgICAgdGhyZWFkRHVtcEJsb2NrZWQ6IDAsXG4gICAgICAgICAgICB0aHJlYWREdW1wQWxsOiAwXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy50aHJlYWREYXRhLmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAodmFsdWUudGhyZWFkU3RhdGUgPT09ICdSVU5OQUJMRScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRocmVhZFN0YXRzLnRocmVhZER1bXBSdW5uYWJsZSArPSAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZS50aHJlYWRTdGF0ZSA9PT0gJ1dBSVRJTkcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aHJlYWRTdGF0cy50aHJlYWREdW1wV2FpdGluZyArPSAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZS50aHJlYWRTdGF0ZSA9PT0gJ1RJTUVEX1dBSVRJTkcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aHJlYWRTdGF0cy50aHJlYWREdW1wVGltZWRXYWl0aW5nICs9IDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlLnRocmVhZFN0YXRlID09PSAnQkxPQ0tFRCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRocmVhZFN0YXRzLnRocmVhZER1bXBCbG9ja2VkICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudGhyZWFkU3RhdHMudGhyZWFkRHVtcEFsbCA9XG4gICAgICAgICAgICB0aGlzLnRocmVhZFN0YXRzLnRocmVhZER1bXBSdW5uYWJsZSArXG4gICAgICAgICAgICB0aGlzLnRocmVhZFN0YXRzLnRocmVhZER1bXBXYWl0aW5nICtcbiAgICAgICAgICAgIHRoaXMudGhyZWFkU3RhdHMudGhyZWFkRHVtcFRpbWVkV2FpdGluZyArXG4gICAgICAgICAgICB0aGlzLnRocmVhZFN0YXRzLnRocmVhZER1bXBCbG9ja2VkO1xuICAgIH1cblxuICAgIG9wZW4oKSB7XG4gICAgICAgIGNvbnN0IG1vZGFsUmVmID0gdGhpcy5tb2RhbFNlcnZpY2Uub3BlbihKaGlUaHJlYWRNb2RhbENvbXBvbmVudCk7XG4gICAgICAgIG1vZGFsUmVmLmNvbXBvbmVudEluc3RhbmNlLnRocmVhZER1bXAgPSB0aGlzLnRocmVhZERhdGE7XG4gICAgfVxufVxuIl19